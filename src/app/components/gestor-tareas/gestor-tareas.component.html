<div class="container mt-4">
    <div class="d-flex justify-content-center">
        <div class="col-md-10 rounded-container">
            <h2 class="text-center">Gestor de Tareas</h2>

            <div class="mb-4">
                <h3>Título</h3>
                <input [(ngModel)]="tituloTarea" type="text" class="form-control mb-2" placeholder="Título de la tarea">
                <h3>Descripción</h3>
                <textarea [(ngModel)]="descripcionTarea" class="form-control mb-2"
                    placeholder="Descripción de la tarea"></textarea>
                <div class="text-end">
                    <button class="btn btn-success" (click)="agregarTarea()">Añadir Tarea</button>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4">

                    <div class="task-header">
                        <h3 class="text-center">Mis Tareas</h3>
                        <div class="rounded-container bg-info p-2">
                            <div *ngFor="let tarea of tareas.notas" class="border rounded p-2 mb-2 bg-white">
                                <div class="border rounded px-2 pt-2 pb-0 mb-3 bg-light">
                                    <h6>{{ tarea.titulo }}</h6>
                                    <p>{{ tarea.descripcion }}</p>
                                </div>
                                <ul>
                                    <li>Creado el {{ tarea.fechaCreacion }}</li>
                                </ul>
                                <div class="d-flex justify-content-between">
                                    <button class="btn btn-warning btn-sm me-2" (click)="moverAEjecucion(tarea.id)">En
                                        Ejecución</button>
                                    <button class="btn btn-danger btn-sm"
                                        (click)="eliminarTarea(tarea.id, 'notas')">Eliminar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="task-header">
                        <h3 class="text-center">Tareas en Ejecución</h3>
                        <div class="rounded-container bg-warning p-2">
                            <div *ngFor="let tarea of tareas.enEjecucion" class="border rounded p-2 mb-2 bg-white">
                                <div class="border rounded px-2 pt-2 pb-0 mb-3 bg-light">
                                    <h6>{{ tarea.titulo }}</h6>
                                    <p>{{ tarea.descripcion }}</p>
                                </div>
                                <ul>
                                    <li>Creado el {{ tarea.fechaCreacion }}</li>
                                    <li>En ejecución desde {{ tarea.fechaEjecucion }}</li>
                                </ul>
                                <div class="d-flex justify-content-between">
                                    <button class="btn btn-success btn-sm me-2"
                                        (click)="moverAFinalizadas(tarea.id)">Finalizar</button>
                                    <button class="btn btn-danger btn-sm"
                                        (click)="eliminarTarea(tarea.id, 'enEjecucion')">Eliminar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="task-header">
                        <h3 class="text-center">Tareas Finalizadas</h3>
                        <div class="rounded-container bg-success p-2">
                            <div *ngFor="let tarea of tareas.finalizadas" class="border rounded p-2 mb-2 bg-white">
                                <div class="border rounded px-2 pt-2 pb-0 mb-3 bg-light">
                                    <h6>{{ tarea.titulo }}</h6>
                                    <p>{{ tarea.descripcion }}</p>
                                </div>
                                <ul>
                                    <li>Creado el {{ tarea.fechaCreacion }}</li>
                                    <li>Finalizado el {{ tarea.fechaFinalizacion }}</li>
                                </ul>
                                <div class="text-end">
                                    <button class="btn btn-danger btn-sm"
                                        (click)="eliminarTarea(tarea.id, 'finalizadas')">Eliminar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="d-flex justify-content-between mt-4">
                <button class="btn btn-primary" (click)="exportarTareas()">Exportar Tareas</button>
                <button class="btn btn-danger" (click)="vaciarCache()">Vaciar Caché</button>
            </div>
        </div>
    </div>
</div>